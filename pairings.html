<!DOCTYPE html>
<html lang="es">
<head>
<link rel="stylesheet" href="style.css">
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ND8WV5PLDZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ND8WV5PLDZ');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pairings - League Rayo de Luna</title>
</head>
<body>
		<header>
			<img src="images/logo.png" class="logosize"  alt="LogoBB"><h1>Emparejamientos del Torneo</h1>
		</header>
		<div class="container">
			<nav>
				<ul>
				<li><a href="index.html" class="nuffle yellow menu">Principal</a></li>
				<li><a href="reglas.html" class="nuffle yellow menu">Bases</a></li>
				<li><a href="clasificacion.html" class="nuffle yellow menu">Clasificación</a></li>
				<li class="nuffle yellow menu">Emparejamientos</li>
				</ul>
			</nav>
			<main>
				<div id="emparejamientos"></div>
				<script>
					const jornadas = [
						[
							["Sergio (Nobleza imperial)", "Rubén (Orcos negros)", "2-0"],
							["Enric (Skaven)", "Frank (Ogros)", "2-0"],
							["Miguel (Unión élfica)", "Raúl (Enanos)", "0-2"],
							["Rodrigo H (Norses)", "Rodrigo M (No muertos)", "1-0"],
							["Santi (Elfos oscuros)", "DESCANSA", ""]
						],
						[
							["Sergio (Nobleza imperial)", " Frank (Ogros)", "3-1"],
							["Rubén (Orcos negros)", "Raúl (Enanos)", "pdte"],
							["Enric (Skaven)", "Rodrigo M (No muertos)", "pdte"],
							["Rodrigo H (Norses)", "Santi (Elfos oscuros)", "pdte"],
							["Miguel (Unión élfica)", "DESCANSA", ""]
						],
						[
							["Sergio (Nobleza imperial)", "Raúl (Enanos)", "pdte"],
							["Frank (Ogros)", "Rodrigo M (No muertos)", "pdte"],
							["Enric (Skaven)", "Santi (Elfos oscuros)", "pdte"],
							["Miguel (Unión élfica)", "Rodrigo H (Norses)", "pdte"],
							["Rubén (Orcos negros)", "DESCANSA", ""]
						],
						[
							["Sergio (Nobleza imperial)", "Rodrigo M (No muertos)", "pdte"],
							["Frank (Ogros)", "Santi (Elfos oscuros)", "pdte"],
							["Rubén (Orcos negros)", "Rodrigo H (Norses)", "pdte"],
							["Enric (Skaven)", "Miguel (Unión élfica)", "pdte"],
							["Raúl (Enanos)", "DESCANSA", ""]
						],
						[
							["Rodrigo M (No muertos)", "Santi (Elfos oscuros)", "pdte"],
							["Raúl (Enanos)", "Rodrigo H (Norses)", "pdte"],
							["Frank (Ogros)", "Miguel (Unión élfica)", "pdte"],
							["Rubén (Orcos negros)", "Enric (Skaven)", "pdte"],
							["Sergio (Nobleza imperial)", "DESCANSA", ""]
						],
						[
							["Sergio (Nobleza imperial)", "Santi (Elfos oscuros)", "pdte"],
							["Rodrigo M (No muertos)", "Miguel (Unión élfica)", "pdte"],
							["Raúl (Enanos)", "Enric (Skaven)", "pdte"],
							["Frank (Ogros)", "Rubén (Orcos negros)", "pdte"],
							["Rodrigo H (Norses)", "DESCANSA", ""]
						],
						[
							["Sergio (Nobleza imperial)", "Rodrigo H (Norses)", "pdte"],
							["Santi (Elfos oscuros)", "Miguel (Unión élfica)", "pdte"],
							["Rodrigo M (No muertos)", "Rubén (Orcos negros)", "pdte"],
							["Raúl (Enanos)", "Frank (Ogros)", "pdte"],
							["Enric (Skaven)", "DESCANSA", ""]
						],
						[
							["Sergio (Nobleza imperial)", "Miguel (Unión élfica)", "pdte"],
							["Rodrigo H (Norses)", "Enric (Skaven)", "pdte"],
							["Santi (Elfos oscuros)", "Rubén (Orcos negros)", "pdte"],
							["Rodrigo M (No muertos)", "Raúl (Enanos)", "pdte"],
							["Frank (Ogros", "DESCANSA", ""]
						],
						[
							["Sergio (Nobleza imperial)", "Enric (Skaven)", "pdte"],
							["Miguel (Unión élfica)", "Rubén (Orcos negros)", "pdte"],
							["Rodrigo H (Norses)", "Frank (Ogros)", "pdte"],
							["Santi (Elfos oscuros)", "Raúl (Enanos)", "pdte"],
							["Rodrigo M (No muertos)", "DESCANSA", ""]
						]
					];
					const fechasEdited = ["Editado 11/11/2024","Editado 22/11/2024","","","","","","",""];

					const emparejamientosDiv = document.getElementById('emparejamientos');
					
					const startDate = new Date(2024, 10, 15); // 15 de noviembre de 2024

					jornadas.forEach((jornada, index) => {
						const jornadaDiv = document.createElement('div');
						jornadaDiv.classList.add('jornada');
						
						const fechaLimite = new Date(startDate);
						fechaLimite.setMonth(startDate.getMonth() + index);
						// a partir de enero son los días 30
						if (index > 1) {    
							// en febrero solo hasta el 29
							if (index == 3) {
								fechaLimite.setDate(28);
							} else {
								// meses de 30 días y meses de 31
								if (index % 2 == 0) {
									fechaLimite.setDate(31);
								} else {
									fechaLimite.setDate(30);
								}
							}
						}    
						const fechaLimiteStr = fechaLimite.toLocaleDateString('es-ES', { year: 'numeric', month: 'long', day: 'numeric' });
						
						const details = document.createElement('details');
						const fechaActual = new Date();
						const fechaMasUnMes = new Date(fechaActual.setMonth(fechaActual.getMonth() + 1));
						if (fechaMasUnMes > fechaLimite) {
						  details.setAttribute('open', '');
						}

						const summary = document.createElement('summary');
						summary.innerHTML = `Jornada ${index + 1} - Fecha límite: ${fechaLimiteStr}`;
						details.appendChild(summary);
						
						const table = document.createElement('table');
						const thead = document.createElement('thead');
						thead.innerHTML = `<tr><th>Equipo 1</th><th>Equipo 2</th><th>Resultado</th></tr>`;
						table.appendChild(thead);

						const tbody = document.createElement('tbody');
						jornada.forEach(partido => {
							const tr = document.createElement('tr');
							if (partido[1] === "DESCANSA") {
								tr.style.backgroundColor = "#999";
							} 
							tr.innerHTML = `<td>${partido[0]}</td><td>${partido[1]}</td><td>${partido[2]}</td>`;
							tbody.appendChild(tr);
						});
						table.appendChild(tbody);

						details.appendChild(table);
						const jornadalink = document.createElement('p');
                        if(index<2){
							jornadalink.innerHTML = `<a class="nuffle" href="jornada${index + 1}.html"  alt="jornada${index + 1}">Resumen de la Jornada ${index + 1}</a> <span class="date">${fechasEdited[index]}</span>`;
                        }else{
							jornadalink.innerHTML = `<a hidden class="nuffle" href="jornada${index + 1}.html"  alt="jornada${index + 1}">Resumen de la Jornada ${index + 1}</a> <span class="date">${fechasEdited[index]}</span>`;
                        }
						details.appendChild(jornadalink);			
				
						jornadaDiv.appendChild(details);
						emparejamientosDiv.appendChild(jornadaDiv);
					});

				</script>
			</main>
		</div>

    
</body>
</html>